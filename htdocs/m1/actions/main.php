<?php /*This encoded file was generated using PHPCoder (http://phpcoder.sourceforge.net/) and eAccelerator (http://eaccelerator.sourceforge.net/)*/ if (!is_callable("eaccelerator_load") && !@dl("eAccelerator.so")) { die("This PHP script has been encoded using the excellent eAccelerator Optimizer, to run it you must install <a href=\"http://eaccelerator.sourceforge.net/\">eAccelerator or the eLoader</a>"); }eaccelerator_load('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'); ?>
<?
	if(empty($_GET['mode'])){
		$_GET['mode'] = 'build';
	}
	$tpl->assign('mode', $_GET['mode']);
	if($_GET['mode'] == 'destroy'){
		include('main_destroy.php');
	}
	if($_GET['mode'] == 'destroy' && $village['main'] < 15){
		header('Location: game.php?village='.$village['id'].'&screen=main&mode=build');
	}
	if($_GET['action'] == 'rename'){
		$name = strip_tags($_POST['name']);
		$check = $db->fetch($db->query("SELECT * FROM `sessions` WHERE `userid` = '".$user['id']."'"));
		if($_GET['h'] != $check['hkey']){
			$error = 'HKEY inv&aacute;lido!';
		}else{
			if(strlen($name) < 3 || strlen($name) > 25){
				$error = 'O nome da aldeia deve conter entre 3 e 25 caracteres!';
			}
		}
		if(empty($error)){
			$villname = parse($name);
			$db->query("UPDATE `villages` SET `name` = '".$name."' WHERE `id` = '".$village['id']."'");
			header('Location: game.php?village='.$village['id'].'&screen=main&mode='.$_GET['mode'].'&renome=sucesso');
		}
	}
	$tpl->assign('renome', $_GET['renome']);
	$tpl->assign('sucesso', 'O nome da aldeia foi alterado com sucesso.');
	$tpl->assign('error', $error);
?>