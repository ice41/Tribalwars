/**/
var PromoPopup={showFaderDiv:false,init:function(showFaderDiv){this.showFaderDiv=showFaderDiv;$('#promo-popup-quit').click(function(event){PromoPopup.hide();event.preventDefault()})},updateTitle:function(title){if(typeof (title)=="undefined")title="";if(title.length>0){$("#preview-title").text(title).show();$(".content-body").removeClass("no-title")}else{$("#preview-title").hide();$(".content-body").addClass("no-title")}},updateDesc:function(desc){if(typeof (desc)=="undefined")desc="";var imgUrl=$("#preview-img").attr("src");imgUrl=typeof (imgUrl)=="undefined"?"":imgUrl;if(desc.length>0){$("#preview-text").html(desc).show();$(".content-body").removeClass("image-only");if(imgUrl.length==0)$(".content-body").addClass("text-only")}else{$("#preview-text").hide();if(imgUrl.length>0)$(".content-body").addClass("image-only")}},updateTimer:function(show_timer){if(typeof (show_timer)!=='undefined'){$('#promo_countdown').show()}else $('#promo_countdown').hide()},updateImg:function(img){if(typeof (img)=="undefined")img="";var desc=$("#preview-text").html();if(img.length>0){$("#preview-img").attr("src",img).show();$(".content-body").removeClass("text-only");if(desc==null||desc.length==0)$(".content-body").addClass("image-only")}else{$("#preview-img").hide();if(desc==null||desc.length>0)$(".content-body").addClass("text-only")}},updatePreviewLink:function(link,points,duration){var text=PromoPopup.getLinkText(link,points,duration);if(text.length>0){$("#preview-link a").text(text);$("#preview-link").show()}else $("#preview-link").hide()},getLinkText:function(text,points,duration){if(typeof (text)!=='undefined'){return text.replace("%p",points).replace("%t",duration)}else return""},loadPreviewData:function(title,img,desc,show_timer,link){PromoPopup.updateTitle(title);PromoPopup.updateDesc(desc);PromoPopup.updateTimer(show_timer);PromoPopup.updateImg(img);if(typeof (link)=="undefined")link="";if(link.length>0){$("#preview-link a").text(link);$("#preview-link").show()}else $("#preview-link").hide()},destroy:function(){if(this.showFaderDiv)$('#promo-fader').remove();$('#promo-popup').remove()},hide:function(){if(this.showFaderDiv)$('#promo-fader').hide();$('#promo-popup').hide()},show:function(){if(this.showFaderDiv)$('#promo-fader').show();$('#promo-popup').show()},countdown:function(container,remaining_seconds,desc){var starting_seconds=remaining_seconds;remaining_seconds-=1;var timer=$('<p class="timer"><span class="timer-item">00</span> <span class="timer-item">:</span> <span class="timer-item">00</span> <span class="timer-item">:</span> <span class="timer-item">00</span> <span class="timer-item">:</span> <span class="timer-item">00</span></p>').css('visibility','hidden'),days=timer.find('span').eq(0),hours=timer.find('span').eq(2),minutes=timer.find('span').eq(4),seconds=timer.find('span').eq(6),interval=setInterval(function(){var days_remaining=Math.floor((remaining_seconds/60/60/24)%60),hours_remaining=Math.floor((remaining_seconds/60/60)%24),minutes_remaining=Math.floor((remaining_seconds/60)%60),seconds_remaining=remaining_seconds%60;days.text(days_remaining);hours.text((hours_remaining<10?"0":"")+hours_remaining);minutes.text((minutes_remaining<10?"0":"")+minutes_remaining);seconds.text((seconds_remaining<10?"0":"")+seconds_remaining);if(starting_seconds-1==remaining_seconds)timer.css('visibility','visible');remaining_seconds-=1;if(remaining_seconds<0){timer.fadeOut();clearInterval(interval)}},1000);container.empty();container.append(timer);if(desc.length){var desc=$('<div />').attr('id','countdown_info').text(desc);timer.append(desc);timer.parent().css('margin-bottom','25px')}}}